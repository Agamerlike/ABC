# ABC027
Atcoder Beginner Contest027の自分の解答

全くわからない

# C
ゲームの問題。制約上DPは不可能なのでO(1)解（最初の状態で自動的に勝敗が決まる）が疑われるが、書き出しても法則性がつかめずそもそも書き出した結果が当たっているかどうかすらわからない。

### 追記（解説見た）
http://kmjp.hatenablog.jp/entry/2015/08/09/0900

この解説がいちばん分かりやすい（まだ）。まずゲーム木は完全2分木になり、プレイヤーの操作は枝の深さをひとつ増やすことと同値なので深さによってどの相手が操作するターンになるかが分かる。また、nがどの深さにあるかも分かる。したがって誰の手順を操作したときにnが上回るかを判定できる。

nが高橋君の操作する深さにあった場合、事前にnより右側に状態遷移を寄せておけば高橋君が勝利できる（その深さで高橋君が操作している時点で負けが確定している）。よって高橋君は数字を大きくしようとする。青木君は同じように左側に寄せたいので、なるべく数字を小さくしようとする。

逆も同様にして青木君は右側に寄せようと数字を大きくし、高橋君は左側に寄せようと数字を小さくする。

これさえ分かればあとはそれぞれの戦略を愚直にシミュレーションすれば解ける。

# D
ものすごくDPっぽい問題なのだが、DPにしても計算量は改善しない。貪欲にやれそうだが、やや面倒だし実装できるか不明。

### 追記（解説見た）

参考: http://jp.yamaha.com/products/musical-instruments/keyboards/digitalpianos/p_series/p-45/?mode=model 

理解するまでだいぶ時間かかった。解ける気がしない。

右に1進むということは`（自分より右にある+の数）-（自分より右にある-の数）`だけ幸福度を上げるということ。左に進む場合はその逆。各Mごとに右に進んだ場合の幸福度への影響と左に進んだ場合の幸福度への影響（これは右に進んだ場合の幸福度への影響\*-1なので左の場合と同値）を記録し、大きいものから半分右に進ませ、残りを左に進ませる。

あとはできあがったパターンをシミュレートして答えを出せば良い。