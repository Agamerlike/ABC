# ABC084
Atcoder Beginner Contest 084の自分の解答

# B
判定に悩みやすい問題だが、数字と-しか出てこないことに気づけば、事実上チェックする必要があるのは-だけである。
# C
最初見たときに面倒になると思って飛ばしたが、実はあまり面倒ではない。

1つの駅の移動に対しては、以下のように求める。

1. 最初の駅は、当然始発に乗る。
2. 次の駅の到着時間がその駅の始発の前なら始発に乗る。そうでなければ、次の電車に乗る。
3. ゴールまで繰り返す。

問題は2の部分であるが、次の電車、すなわちある数字t以上かつF_iで割り切れる最小の数字は F_i*(t/F_i + 1)で求められる。こうするとO(1)である。

なお、この問題は制約が読みにくいのもあってREをたくさん出してしまったことが悔やまれる。AtcoderのREはほぼ配列の要素外参照である。
# D
愚直に行っても間に合わないことは明らかで、数学的に判定する方法もなさそうだったので、先に計算しておく技法を用いることにした。素数を必要分計算し、2017likeかどうかをあらかじめ判断しておくところまではでき、かなりの高速化を実現できたのだが、あと1歩及ばなかった。

解説の方法によると、累積和を取ればよかったとのこと。ある区間の要素数を求めるときには(全体の左端から区間の右端)-(全体の左端から区間の左端)を行えばいいということ。この方法は頻出なのでよく覚えておきたい。