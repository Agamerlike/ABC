# ABC040
Atcoder Beginner Contest040の自分の解答

# C
貪欲ではできないので素直にダイクストラした。

# D
グラフ問題だが、どうがんばってもO(QNlogN)かかってしまう（部分点）。

### D(解説見た)
Union-Findを使わなければ解けない初めての問題。

Union-Findとは、簡潔に説明すると、合体はできるが分割はできないデータ構造のこと。O(logN)もしくはO(1)と見なしてよい。

その性質上最小全域木を求める問題などで大活躍する……らしい。

今回は、ある頂点が属する集合の要素数を連続で求めていく問題。まずは、それに帰着させるためにクエリと道路のそれぞれを年代で**降順に**ソートする。そのあと上から順番に、クエリで出てきた年代より新しい年代の道路をUnion-find上に建設していく。併合の作業と同時に現在その集合が属している要素数（これは自分を含めた子の数を持っておけばよい）を親に加算していくことで、結果的にその集合が属している要素の数を求めることができる（親を求めた後にその要素数を求めればいいので）。

Union-Findはテンプレートに追加しておいた。応用範囲が広そうなので応用しやすいような実装に適宜改良を重ねたい。