# ABC034
Atcoder Beginner Contest041の自分の解答

Dで時間切れ。Cは変な考えしてはまった。

# C
最短経路の総数を求める問題。制約が大きいので普通にコンビネーションしたらオーバーフローするし普通にDPしても間に合わんしな……と無駄なこと延々と考えていたが、「普通に逆元求めればいけるじゃん！」と10分ほどで気づきそのままAC。はっきり言ってバカ。

逆元を求めるプログラムはそろそろ覚えておきたい。コンビネーションは容易に証明可能だが階乗型に書き直すのは毎回怖い。MODがマイナスになっていないかの確認は`a%=MOD; a=(a+MOD)%MOD;`で統一したい。

# D
Sugar Waterの強化版。あれ自体非常に苦手傾向の強い問題なのに強化されて辛すぎる。おそらく`dp[i][j]`がi番目まででj個選んだときのナントカになるタイプのDP。最大濃度を保持する形式だと結局貪欲と変わらないことに気づき撃沈。

### 追記（解説読んだ）
~~貪欲にやれば解ける。~~ ←嘘解法。さすがに笑う。

非常にDPするにもパラメタを決めづらいので、2分探索で濃度を決め打ちして優先度を定め、実際にそれ以上の濃度を作ることのできるかどうか確かめる。作ることのできる濃度の上限=2分探索の境界点が求める答えである。

基本的には濃度は下がる一方なので「この量で目標値の濃度を達成するための食塩の不足量」に注目し、これを最小化するような取り方を考えると良い。

**平均の最大化には、2分探索が鉄板！！**