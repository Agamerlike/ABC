# ABC041
Atcoder Begginer Contest041の自分の解答

分かりそうだったが実装が重いのとできる自信がなかったので答え見る

# B
ノーコンパイルチャレンジ成功。めちゃ簡単。

# C
ソートするだけ。逆に部分点取る方法が分からない。ソートしたあとそれぞれの要素がどこにあるか探すとか(O(N^2))？

# D
部分点解法は全探索を行い、条件に合うものをすべて探す。

後にいるうさぎが前にいるうさぎに有向辺を張り、有向木を作ることを考える。有向木の根となったうさぎを先頭として枝にあるものを順番にまとめていけばいけそうな感じがしたが、ご覧の通り雑すぎる考察なので組めそうにないと判断した。

### 追記（解説見た）
典型的なトポロジカルソートの問題で、トポロジカルソートの組み合わせを求める問題。以下のようなbitDPを考える。

> もし頂点vに集合Sに含まれる頂点へのパスがないなら
> dp[{S+v}]+=dp[{S}]

これをすべての頂点について行う。この漸化式では「すでにトポロジカルソートが行われた集合Sに対して、その一番右側に頂点vを追加することができるか？」ということを判定している。すべての頂点について行うのでたとえば集合{1,3,4}の場合は(v,S)=({1},{3,4}), ({3},{1,4}), ({4},{1,3})について調べることになる。確かにこれならばすべてのトポロジカルソートの組み合わせを辿れそうだ。

DPの進め方次第ではdp[{S}]がまだ求まっていないという状態になることが懸念される。これは頂点集合をbitで管理していれば問題ない。なぜならば、bitで管理しているとき常に{S+v}>{S}が保証されるからである。