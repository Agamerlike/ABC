# ABC039
Atcoder Beginner Contest039の自分の解答

実質0完。苦手が重なり完全敗北

# C
配列から条件を満たす区間を取り出す問題本当に苦手すぎる。それに差分とか組み合わさるともう無理。謎バグが出たとき対処しようがない。

a_n+1に番兵を設けた上で、a_i < a_i+1となる区間をwhileループで検出する。条件を満たす区間の左端のインデックスと右端のインデックスを記録しておくと、その区間に含まれる要素数は(right-left+1)となるので、あとはそこから2つ取り出す組み合わせを求める。forループにwhileループを入れると失敗しやすいので、whileループを中に入れるときにはwhileループで囲うことを意識する。

2つ取り出す組み合わせは、nC2=n*(n-1)/2によって実現できる。

これだけだとleft=rightの場合を考慮できていないので、その分を加味して得られた答えにnを加えておく。

実行時間はO(N)で適切に減らせているはずだが、謎WAが出て死。

### 追記

オーバーフローだった……。もう引っかからないと思ってたのに……

# D
頑張ったが結局O(N^2)から減ってない。が、かなり近いところまでは行ったのであとは定数倍減らすだけでどうにかなりそうなのだが、そもそもアルゴリズムが誤っている可能性が高いため無意味。

グラフっぽいが貪欲でもできそうと思い、pairを作って貪欲に取っていく方法を試したがサンプルが通らない。その後、グラフで辺を張っていく方式もO(N^2)かかり間に合わないことに気づく。大きいものから求めていくと小さいものがその次に入る箱を求めればあらかじめ計算しておいた大きいものを再利用できそうなので、小さい順に箱をソートしてそのインデックスから箱を入れ子にし始めた場合何個箱を入れられるかを記録しておくことにする。これでO(N)でできそうだったが実際には探索に相変わらずO(N^2)かかることがわかり死亡。

類題は解いてそうなので、非常に悔しい。

### 追記（解説読んだ）
BITというデータ構造を用いる問題。部分点はDP。

部分点自体は漸化式とか複雑なことを考えなくとも入れ子にできる箱に辺を張って最大路を取れば良い（ベルマンフォード）。ところでこの計算量はO(N^3)。さて、どう減らしていくか。

