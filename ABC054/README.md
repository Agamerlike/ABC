# ABC054
Atcoder Begginer Contest 054の自分の解答
# A
ABCのA問題にしてはやや難解。1を14に置き換えると単なる比較となる。
# B
出力の大文字小文字で引っかかって苦労したほか、ラストのテストケースで弾かれて結局WA。パターンマッチの弱さと経験不足を見せつける結果となった。

縦から順番に文字列を検索し、一致する部分があればその位置を記録してBの情報を順番に照合していく、というアルゴリズムはおそらく間違っていなかったはずだが、どこか細部でミスっている部分があった模様。

追記
char型にして力任せ法という原始的なやり方で通りました。
# C
グラフは隣接行列によって与えた（8\*8なのでセーフ）。本当は他の構成の仕方も学ばなければならないのだが……。

経路の総数を求める問題なのでそれぞれの頂点から行くことができる道を再帰を使って全探索。もちろん一度通った道にはしるしをつけておく。しるしが全部埋まれば正しい経路なので、経路総数（グローバル変数）に+1。グローバル変数を使った強引な実装になったのでまだまだ改善できそう。AC。

追記(2017/3/10)

隣接リストによる実装を追加した（アルゴリズムは同一）。この場合は隣接リストのほうがスマートな実装になったようだ。
# D
最小化問題なのでおそらくDP（線形計画法かもしれない）。したがってDPっぽく解いた。全部の組み合わせについて再帰で量と値段を記録しながらループを回し、最小値を求める。はずが、どうやら計算時間が多すぎた模様。2^(n-1)かかるしまあそうかなという気はする。枝刈りで改善できるかも。

最後のケースだけWAしたが、その原因は謎。

追記(2017/3/10)：解説の解法

3次元DPで解く。この問題は“n番目までの薬を使ったときのそれぞれの成分の量についてかかるコスト”を最小化する問題なのでnを変数iに置き換えることで部分問題を構成できる。**DPでは求める対象（最小化するものなど）を値に、そのために使う情報をテーブルの添字に取ればよい**ので、今回使う情報は何番目までの薬を使ったかと、成分aと成分bそれぞれの量なのでDPテーブルは3次元となる。

以下、DPテーブルをdp\[何番目の薬までで]\[成分aの量]\[成分bの量]=(を集めるための最小コスト)と置く。初期化はコストの最大値を上回る値で行う。当然ながらdp\[0]\[0]\[0]=0である（これを初期値として扱う）。ここから順番に薬を入れたときのコストがテーブル上に記録されていくように漸化式を形成する。漸化式は以下のようになる。

dp\[i]\[j+a\[i-1]]\[k+b\[i-1]] = min(dp\[i-1]\[j+a\[i-1]]\[k+b\[i-1]], dp\[i-1]\[j]\[k]+c\[i-1]) //i番目の薬を加える場合

dp\[i]\[j]\[k] = min(dp\[i]\[j]\[k], dp\[i-1]\[j]\[k]) //i番目の薬を加えない場合

薬を加える場合の操作でテーブルに新しく値を追加し、薬を加えない場合の操作でテーブルの引き継ぎを行う。この漸化式では、仮に加える場合と加えない場合で競合してしまっても、薬を加えない場合よりも薬を加える場合のほうが先に操作されることを利用して、それぞれの比較が行えるようにしてある。

最後に、出来上がったテーブルをもとに最小値を求めるが、成分aと成分bの比率が指定されている。dp\[n]について最大値を求めればよいのでdpテーブルは2次元となり、比率に適合した成分aと成分bの量の位置は、関数で格子点を求める要領で求めることができる。このとき、範囲外の要素を指定しまわないように細心の注意を払うこと。

しかしながら今回は使用メモリ量が多すぎるのかclではコンパイルできても実行できなかった。そのおかげでAtcoderのコードテスト機能に初めてお世話になった。同じようなことは特にDPのような問題を解く時に発生すると思われるので、clの使い方について熟達する必要性がありそうだ。
