# ABC056
Atcoder Begginer Contest 056の自分の解答

# A
やや問題がややこしい。AtCoDeerが嘘をついているときはbを反転させることで求められる。

# B
重なっている場合と重なっていない場合で場合分けが必要。

重なっていない場合は、2つの長方形の距離はmin(|(b+W)-a|,|b-(a+W)|)によって得られるので、この値が答えとなる。重なっている場合は動かさなくてよいので0が答え。

長方形が重なっている場合、距離がマイナスになるのでmin(|(b+W)-a|,|b-(a+W)|)が正常に評価されない。したがってこのふたつの長方形の端から端までの距離（最大距離）を求めて、それが2\*W以下になるかどうかで重なっているかどうかを判定する。

# C
1+2+3+...+n以下のすべての自然数は、(1,2,3,...,n)から適当なものを取り出した和によって表すことができる。したがってこの問題はX<=1+2+3+...+nとなる最小のnを求めれば良い。

# D
枝刈りでやったら部分点はもらえるだろうと思って実装したが間に合わず。DPっぽく解いてみる方法も試したがどのカードを使った集合なのかを記録することができなかったためうまくいかなかった。

追記(2017/4/11)

やっぱりDPでした。DPそのものをループとして回すという発想に至らなかったことが敗因。制約条件と計算量の見積もりは行えるようにしたい。

完全解答について、もし必要なカードが存在するとき、そのカードより大きいカードは必ず必要なのでソートした後2分探索によって必要なカードと不必要なカードの境目を探す。2分探索はやり方自体は単純だが右側と左側のどちらを解として採用すべきかいまだに悩む。今回は初めてtrueになる（必要になる）位置を探せばいいので右側を採用した。2分探索によって調べるカードを決めた後は、普通にDPする。

### 証明

よい集合でない集合を悪い集合とする。

カードはa_1...a_nのように与えられているものとしさらにi\<jのときa_i\<a_jとする（つまりa_1\<a_2\<...\<a_n）。

このとき、a_iを含まず、かつa_jを含む悪い集合Sについて考える（ただしa_i\<a_j）。

定義より、もしSの合計がK-a_i以上K以下であればa_iは必要なカードである。以下Sの合計がK-a_i以上K以下であると仮定する。

すると、Sの要素a_jをa_iと入れ替えた集合は必ず悪い集合となり、またその集合にa_jを加えると必ずよい集合になることから、a_iより大きなすべてのカードは必要であるということが分かる。

∵ 
ΣS\<K\<ΣS+a_iとΣS+a_i=Σ(S-{a_j}+{a_i})+a_iとΣ(S-{a_j}+{a_i})<ΣSから

Σ(S-{a_j}+{a_i})<ΣS\<K\<ΣS+a_i=Σ(S-{a_j}+{a_i})+a_iが明らかに成立するため（より大きなカードとなら交換しても条件は成立する）
