# ABC046
Atcoder Beginner Contest046の自分の解答

危うかったが全完を果たした。が、Dが300点なので実感は微妙。

# A
綴りミスで1CE。ノーコンパイルチャレンジ失敗。

逆にA問題らしくif文でやろうとすると思いつかないやつ。

# B
真ん中から塗ろうが端から塗ろうが結果は同じなので端から順番に塗っていく。

したがって塗り方はk\*(k-1)^(n-1)通り。

# C
Dよりムズい。難航したが丸め誤差による謎バグで1WAしてそのあとAC。

t_1とa_1が最初の2人の得票数である。ここから2つの操作を繰り返して最後の得票数を求める。

まず1つ目の操作として、t_i,a_iはt_i-1,a_i-1より真に大きくなくてはならないため、t_iとa_iに対して定数のかけ算をして比を保ったままt_i-1,a_i-1より大きくなるようにする。問題は倍率の決め方だがa[i-1]/a[i]とt[i-1]/t[i]のうち大きな方を取れば良い。実際には倍率は整数値でなくてはならないためそれぞれに天井関数をかける。

次に2つ目の操作として、1つ目の操作でうまく補正できていなかった分を比を保ったまま、つまり元のt_i,a_iを順番に加算していって正確な得票数を求める。これは制約が小さいことを利用してwhileループで殴った。

天井関数（正確には整数型の割り算の部分）で丸め誤差があったため1WA。**整数型の割り算の天井関数を求める場合はceil(a/b)よりa/b+(a%b>0)のほうが正確に動く**ことを意識していきたい。bool型のint変換はそろそろ覚える。

### 追記
あとで1つ目の操作の段階で真に大きくなることは保証されるため、2つ目の操作は必要ないのではないかと思い2つ目の操作をコメントアウトして提出したら通った。何やってんだか……

# D
条件上じゃんけんの回数の半分より多く勝つことはできないことが分かる。また勝てる回数は相手がパーを出すごとに減っていくのでどんなに最適に動いてもそこまで多くはならないだろうと予測できる。

また相手と全く同じ動きをすることで確実に0回勝つことができて、これが下限であることも分かる。勝てる回数が少ないことからこれを基準にして勝てる回数を増やしていけばよい。

相手のグーを使った回数とパーを使った回数に注目する。もしグーを使った回数のほうが明らかに多いならば、条件を満たす範囲でグーを出している場面をパーに変えることで勝ちの回数を増やしていくことができる。この変換を条件を満たす範囲で繰り返す。制約上変えられるものがなくなるまで変換できるということはない。